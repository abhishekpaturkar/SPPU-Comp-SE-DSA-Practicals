#include <iostream>
using namespace std;

struct node
{
    char name[100];
    int count;
    node *child[10];
} *root;

class Tree
{
public:
    Tree()
    {
        root = NULL;
    }
    void create_Tree();
    void display(node *r1);
};

void Tree ::create_Tree()
{
    int i, j, k;
    root = new node;
    cout << "Enter BOOK Name : ";
    cin >> root->name;
    cout << "Enter Number of Chapters : ";
    cin >> root->count;
    for (int i = 0; i < root->count; i++)
    {
        root->child[i] = new node;
        cout << "Enter Chapter Name : ";
        cin >> root->child[i]->name;

        cout << "Enter No of Section : ";
        cin >> root->child[i]->count;

        for (int j = 0; j < root->child[i]->count; j++)
        {
            root->child[i]->child[j] = new node;
            cout << "Enter Name of Section : ";
            cin >> root->child[i]->child[j]->name;

            cout << "Enter Number of Sub-Section : ";
            cin >> root->child[i]->child[j]->count;

            for (int k = 0; k < root->child[i]->child[j]->count; k++)
            {
                root->child[i]->child[j]->child[k] = new node;
                cout << "Enter Name of Subsection : ";
                cin >> root->child[i]->child[j]->child[k]->name;
            }
        }
    }
}

void Tree::display(node *r1)
{
    int i, j, k;
    if (r1 != NULL)
    {
        cout << "\n-----Book Hierarchy---";
        cout << "\n Book title : " << r1->name;
        for (i = 0; i < r1->count; i++)
        {

            cout << "\n Chapter " << i + 1;
            cout << " " << r1->child[i]->name;
            cout << "\n Sections : ";
            for (j = 0; j < r1->child[i]->count; j++)
            {
                // cin>>r1->child[i]->child[j]->label;
                cout << "\n " << r1->child[i]->child[j]->name;
                cout << endl;
                cout << " Sub-Section : ";
                for(k=0; k < r1->child[i]->child[j]->count; k++)
                {
                    cout << "\n" << r1->child[i]->child[j]->child[k]->name;
                    cout << endl;
                }
            }
        }
    }
}


int main()
{
    Tree bookTree;
    int choice;

    while (true)
    {
        cout << "-----------------" << endl;
        cout << "Book Tree Creation" << endl;
        cout << "-----------------" << endl;
        cout << "1. Create Tree" << endl;
        cout << "2. Display Tree" << endl;
        cout << "3. Exit" << endl;
        cout << "Enter your choice: ";
        cin >> choice;

        switch (choice)
        {
            case 1:
                bookTree.create_Tree();
                break;
            case 2:
                bookTree.display(root);
                break;
            case 3:
                exit(0);
            default:
                cout << "Invalid choice. Please try again." << endl;
        }
    }

    return 0;
}
